"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.moveProjectConfiguration = void 0;
const devkit_1 = require("@nrwl/devkit");
const utils_1 = require("./utils");
function moveProjectConfiguration(tree, schema, projectConfig) {
    let destination = utils_1.getDestination(tree, schema, projectConfig);
    const projectString = JSON.stringify(projectConfig);
    const newProjectString = projectString.replace(new RegExp(projectConfig.root, 'g'), destination);
    // rename
    const newProject = JSON.parse(newProjectString);
    // Delete the original project
    devkit_1.removeProjectConfiguration(tree, schema.projectName);
    // Create a new project with the root replaced
    devkit_1.addProjectConfiguration(tree, utils_1.getNewProjectName(schema.destination), newProject);
}
exports.moveProjectConfiguration = moveProjectConfiguration;
//# sourceMappingURL=move-project-configuration.js.map