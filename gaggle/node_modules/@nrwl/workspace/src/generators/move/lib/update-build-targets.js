"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateBuildTargets = void 0;
const devkit_1 = require("@nrwl/devkit");
const utils_1 = require("./utils");
/**
 * Update other references to the source project's targets
 */
function updateBuildTargets(tree, schema) {
    const newProjectName = utils_1.getNewProjectName(schema.destination);
    devkit_1.updateJson(tree, devkit_1.getWorkspacePath(tree), (json) => {
        const strWorkspace = JSON.stringify(json);
        json = JSON.parse(strWorkspace.replace(new RegExp(`${schema.projectName}:`, 'g'), `${newProjectName}:`));
        return json;
    });
}
exports.updateBuildTargets = updateBuildTargets;
//# sourceMappingURL=update-build-targets.js.map