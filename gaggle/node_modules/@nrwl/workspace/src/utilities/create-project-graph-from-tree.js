"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createProjectGraphFromTree = void 0;
const devkit_1 = require("@nrwl/devkit");
const project_graph_1 = require("../core/project-graph/project-graph");
const path_1 = require("path");
function createProjectGraphFromTree(tree) {
    const workspaceJson = devkit_1.readJson(tree, devkit_1.getWorkspacePath(tree));
    const nxJson = devkit_1.readJson(tree, 'nx.json');
    const files = [];
    devkit_1.visitNotIgnoredFiles(tree, '', (file) => {
        files.push({
            file,
            ext: path_1.extname(file),
            hash: '',
        });
    });
    const readFile = (path) => {
        return tree.read(path).toString('utf-8');
    };
    return project_graph_1.createProjectGraph(workspaceJson, nxJson, files, readFile, false, false);
}
exports.createProjectGraphFromTree = createProjectGraphFromTree;
//# sourceMappingURL=create-project-graph-from-tree.js.map